package main

import (
	"fmt"
	"math/rand"
	"time"
)

func main() {
	// Создаем канал для передачи чисел
	numbers := make(chan int)

	// Запускаем 5 горутин, которые отправляют случайные числа в канал
	for i := 0; i < 5; i++ {
		go func(id int) {
			for {
				// Генерируем случайное число
				num := rand.Intn(100)
				// Отправляем число в канал
				numbers <- num
				fmt.Printf("Горутина %d отправила число %d\n", id, num)
				// Задержка для имитации работы
				time.Sleep(time.Duration(rand.Intn(500)) * time.Millisecond)
			}
		}(i)
	}

	// Запускаем горутину, которая читает числа из канала и выводит их на экран
	go func() {
		for {
			num := <-numbers
			fmt.Println("Получено число:", num)
		}
	}()

	// Основной поток ожидает завершения работы всех горутин
	// В данном случае программа будет работать бесконечно, пока не будет прервана вручную
	select {}
}
